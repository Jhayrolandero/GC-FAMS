<app-loading-screen
  *ngIf="!(facultyProfile$ | async) as facultyProfile"
></app-loading-screen>
<div
  *ngIf="facultyProfile$ | async as facultyProfile"
  class="p-5 flex flex-col max-w-full flex-initial gap-3 text-blue overflow-x-hidden"
  id="mainPage"
>
  <div
    class="min-w-mobileL w-full bg-white rounded-[15px] overflow-hidden shadow-main"
  >
    <!-- IMAGE AND COVER -->
    <div class="w-full relative h-[210px] flex justify-center tablet:block">
      <div class="w-full h-[180px] overflow-hidden flex items-center">
        <img
          class="w-full"
          [src]="port + facultyProfile.cover_image"
          onerror="this.onerror=null; this.src='../../../assets/profiles/cover.jpg'"
        />
      </div>

      <div
        class="rounded-full ml-0 absolute top-0 tablet:ml-7 bg-greenBar max-h-[210px] max-w-[210px] border-[5px] border-white"
      >
        <img
          class="rounded-full aspect-square"
          [src]="port + facultyProfile.profile_image"
          onerror="this.onerror=null; this.src='../../../assets/profiles/user.png'"
        />
        <button
          (click)="openDialog('profile')"
          class="absolute bottom-[2rem] right-0 bg-white px-2 py-1 aspect-square rounded-full"
        >
          <i class="fa-solid fa-camera"></i>
        </button>
      </div>
      <button
        class="absolute right-2 top-2 bg-white px-2 py-1 rounded-full"
        (click)="openDialog('cover')"
      >
        <i class="fa-solid fa-pen"></i>
      </button>
    </div>

    <div
      class="flex flex-col justify-center tablet:flex-row tablet:justify-between"
    >
      <p
        class="mobileS:text-[1.5rem] tablet:text-[2rem] text-center tablet:text-start font-Poppins font-semibold ml-0 tablet:ml-7 mt-1 mb-2"
      ></p>
    </div>
  </div>

  <div
    class="bg-white rounded-[15px] p-4"
    *ngIf="facultyProfile$ | async as facultyProfile"
  >
    <form
      [formGroup]="facultyInfo"
      action=""
      class="grid grid-cols-5 gap-2 auto-cols-max auto-rows-max"
    >
      <h4 class="col-span-5 text-2xl mb-4">Personal Information</h4>

      <div class="relative z-0 w-full mb-5 group col-span-5 tablet:col-span-2">
        <input
          type="email"
          name="floating_email"
          id="floating_email"
          class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-blue dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"
          formControlName="email"
          [value]="facultyProfile.email"
          disable="true"
          required
        />
        <label
          for="floating_email"
          class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
          >Email address</label
        >
        <app-forms-error
          *ngIf="
            formControl('email')?.invalid &&
            (formControl('email')?.dirty || formControl('email')?.touched)
          "
          [formControlRequired]="formControl('email')!.errors?.['required']"
          [formControlEmail]="formControl('email')!.errors?.['email']"
        ></app-forms-error>
      </div>
      <div class="relative z-0 w-full mb-5 group col-span-5 tablet:col-span-2">
        <input
          type="text"
          name="floating_email"
          id="floating_email"
          class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-blue dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"
          formControlName="phone_number"
          [value]="facultyProfile.phone_number"
          placeholder=" "
          required
        />
        <label
          for="floating_email"
          class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
          >Phone Number</label
        >
        <app-forms-error
          *ngIf="
            formControl('phone_number')?.invalid &&
            (formControl('phone_number')?.dirty ||
              formControl('phone_number')?.touched)
          "
          [formControlRequired]="formControl('phone_number')!.errors?.['required']"
          [formControlNumber]="formControl('phone_number')!.errors?.['pattern']"
        ></app-forms-error>
      </div>
      <div class="relative z-0 w-full mb-5 group col-span-5 tablet:col-span-1">
        <input
          type="date"
          name="floating_email"
          id="floating_email"
          class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-blue dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"
          formControlName="birthdate"
          placeholder=" "
          [value]="facultyProfile.birthdate"
          required
        />
        <label
          for="floating_email"
          class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
          >Birthdate</label
        >
        <app-forms-error
          *ngIf="
            formControl('birthdate')?.invalid &&
            (formControl('birthdate')?.dirty ||
              formControl('birthdate')?.touched)
          "
          [formControlRequired]="formControl('birthdate')!.errors?.['required']"
        ></app-forms-error>
      </div>
      <div class="col-span-5 flex flex-row gap-2 flex-wrap">
        <div class="relative z-0 w-full mb-5 group flex-1">
          <input
            type="text"
            name="floating_email"
            id="floating_email"
            class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-blue dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"
            [value]="formControl('last_name')?.value"
            formControlName="last_name"
            placeholder=" "
            required
          />
          <label
            for="floating_email"
            class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
            >Lastname</label
          >
          <app-forms-error
            *ngIf="
              formControl('last_name')!.invalid &&
              (formControl('last_name')!.dirty ||
                formControl('last_name')!.touched)
            "
            [formControlRequired]="formControl('last_name')!.errors?.['required']"
            [formControlPattern]="formControl('last_name')!.errors?.['pattern']"
          ></app-forms-error>
        </div>
        <div class="relative z-0 w-full mb-5 group flex-1">
          <input
            type="text"
            name="floating_email"
            id="floating_email"
            class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-blue dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"
            [value]="facultyProfile.first_name"
            formControlName="first_name"
            placeholder=" "
            required
          />
          <label
            for="floating_email"
            class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
            >Firstname</label
          >
          <app-forms-error
            *ngIf="
              formControl('first_name')?.invalid &&
              (formControl('first_name')?.dirty ||
                formControl('first_name')?.touched)
            "
            [formControlRequired]="formControl('first_name')!.errors?.['required']"
            [formControlPattern]="formControl('first_name')!.errors?.['pattern']"
          ></app-forms-error>
        </div>
        <div class="relative z-0 w-full mb-5 group flex-1">
          <input
            type="text"
            name="floating_email"
            id="floating_email"
            class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-blue dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"
            [value]="facultyProfile.middle_name"
            formControlName="middle_name"
            placeholder=" "
          />
          <label
            for="floating_email"
            class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
            >Middlename</label
          >
        </div>
        <div class="relative z-0 w-full mb-5 group flex-1">
          <input
            type="text"
            name="floating_email"
            id="floating_email"
            class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-blue dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"
            [value]="facultyProfile.ext_name"
            formControlName="ext_name"
            placeholder=" "
          />
          <label
            for="floating_email"
            class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
            >Ext. name</label
          >
        </div>
      </div>
      <div class="col-span-5 flex flex-row gap-2 flex-wrap">
        <div class="relative z-0 w-full mb-5 group flex-1">
          <input
            type="text"
            name="floating_email"
            id="floating_email"
            class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-blue dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"
            [value]="facultyProfile.region"
            formControlName="region"
            placeholder=" "
            required
          />
          <label
            for="floating_email"
            class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
            >Region</label
          >
          <app-forms-error
            *ngIf="
              formControl('region')?.invalid &&
              (formControl('region')?.dirty || formControl('region')?.touched)
            "
            [formControlRequired]="formControl('region')!.errors?.['required']"
            [formControlPattern]="formControl('region')!.errors?.['pattern']"
          ></app-forms-error>
        </div>
        <div class="relative z-0 w-full mb-5 group flex-1">
          <input
            type="text"
            name="floating_email"
            id="floating_email"
            class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-blue dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"
            [value]="facultyProfile.province"
            formControlName="province"
            placeholder=" "
            required
          />
          <label
            for="floating_email"
            class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
            >Province</label
          >
          <app-forms-error
            *ngIf="
              formControl('province')?.invalid &&
              (formControl('province')?.dirty ||
                formControl('province')?.touched)
            "
            [formControlRequired]="formControl('province')!.errors?.['required']"
            [formControlPattern]="formControl('province')!.errors?.['pattern']"
          ></app-forms-error>
        </div>
        <div class="relative z-0 w-full mb-5 group flex-1">
          <input
            type="text"
            name="floating_email"
            id="floating_email"
            class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-blue dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"
            [value]="facultyProfile.city"
            formControlName="city"
            placeholder=" "
            required
          />
          <label
            for="floating_email"
            class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
            >City</label
          >
          <app-forms-error
            *ngIf="
              formControl('city')?.invalid &&
              (formControl('city')?.dirty || formControl('city')?.touched)
            "
            [formControlRequired]="formControl('city')!.errors?.['required']"
            [formControlPattern]="formControl('city')!.errors?.['pattern']"
          ></app-forms-error>
        </div>
        <div class="relative z-0 w-full mb-5 group flex-1">
          <input
            type="text"
            name="floating_email"
            id="floating_email"
            class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-blue dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"
            [value]="facultyProfile.barangay"
            formControlName="barangay"
            placeholder=" "
            required
          />
          <label
            for="floating_email"
            class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
            >Barangay</label
          >
          <app-forms-error
            *ngIf="
              formControl('barangay')?.invalid &&
              (formControl('barangay')?.dirty ||
                formControl('barangay')?.touched)
            "
            [formControlRequired]="formControl('barangay')!.errors?.['required']"
            [formControlPattern]="formControl('barangay')!.errors?.['pattern']"
          ></app-forms-error>
        </div>
      </div>

      <div class="relative z-0 w-full mb-5 group col-span-5 tablet:col-span-1">
        <input
          type="text"
          name="floating_email"
          id="floating_email"
          class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-blue dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"
          [value]="facultyProfile.sex"
          formControlName="sex"
          placeholder=" "
          required
        />
        <label
          for="floating_email"
          class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
          >Sex</label
        >
        <app-forms-error
          *ngIf="
            formControl('sex')?.invalid &&
            (formControl('sex')?.dirty || formControl('sex')?.touched)
          "
          [formControlRequired]="formControl('sex')!.errors?.['required']"
          [formControlPattern]="formControl('sex')!.errors?.['pattern']"
        ></app-forms-error>
      </div>
      <div class="relative z-0 w-full mb-5 group col-span-5 tablet:col-span-1">
        <input
          type="text"
          name="floating_email"
          id="floating_email"
          class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-blue dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"
          [value]="facultyProfile.language"
          formControlName="language"
          placeholder=" "
          required
        />
        <label
          for="floating_email"
          class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
          >Language</label
        >
        <app-forms-error
          *ngIf="
            formControl('language')?.invalid &&
            (formControl('language')?.dirty || formControl('language')?.touched)
          "
          [formControlRequired]="formControl('language')!.errors?.['required']"
          [formControlPattern]="formControl('language')!.errors?.['pattern']"
        ></app-forms-error>
      </div>
      <div class="relative z-0 w-full mb-5 group col-span-5 tablet:col-span-1">
        <input
          type="text"
          name="floating_email"
          id="floating_email"
          class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-blue dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"
          [value]="facultyProfile.citizenship"
          formControlName="citizenship"
          placeholder=" "
          required
        />
        <label
          for="floating_email"
          class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
          >Citizenship</label
        >
        <app-forms-error
          *ngIf="
            formControl('citizenship')?.invalid &&
            (formControl('citizenship')?.dirty ||
              formControl('citizenship')?.touched)
          "
          [formControlRequired]="formControl('citizenship')!.errors?.['required']"
          [formControlPattern]="formControl('citizenship')!.errors?.['pattern']"
        ></app-forms-error>
      </div>
      <div class="relative z-0 w-full mb-5 group col-span-5 tablet:col-span-1">
        <input
          type="text"
          name="floating_email"
          id="floating_email"
          class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-blue dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"
          [value]="facultyProfile.age"
          formControlName="age"
          placeholder=" "
          required
        />
        <label
          for="floating_email"
          class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
          >Age</label
        >
        <app-forms-error
          *ngIf="
            formControl('age')?.invalid &&
            (formControl('age')?.dirty || formControl('age')?.touched)
          "
          [formControlRequired]="formControl('age')!.errors?.['required']"
          [formControlNumber]="formControl('age')!.errors?.['pattern']"
        ></app-forms-error>
      </div>
      <div class="relative z-0 w-full mb-5 group col-span-5 tablet:col-span-1">
        <input
          type="text"
          name="floating_email"
          id="floating_email"
          class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-blue dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"
          [value]="facultyProfile.civil_status"
          formControlName="civil_status"
          placeholder=" "
          required
        />
        <label
          for="floating_email"
          class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
          >Civil Status</label
        >
        <app-forms-error
          *ngIf="
            formControl('civil_status')?.invalid &&
            (formControl('civil_status')?.dirty ||
              formControl('civil_status')?.touched)
          "
          [formControlRequired]="formControl('civil_status')!.errors?.['required']"
          [formControlPattern]="formControl('civil_status')!.errors?.['pattern']"
        ></app-forms-error>
      </div>
    </form>
  </div>
  <div
    class="min-w-mobileL w-full bg-white rounded-[15px] overflow-hidden shadow-main"
  >
    <h4>Reset Password</h4>
  </div>
</div>
