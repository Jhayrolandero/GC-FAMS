<section
  class="bg-white flex flex-col py-4 px-6 rounded-[25px] shadow-xl gap-4 mt-4"
>
  <div class="flex">
    <div class="flex-1 flex gap-2 font-Poppins">
      <!-- <img class="h-[20px] w-[20px]" src="../../../../assets/faculty-dashboard/BlueUsers.png" alt="" /> -->
      <h4 class="text-[2rem] font-Poppins font-semibold text-blue">Faculty</h4>
      <!-- <div class="flex-1 flex">
        <input type="checkbox" id="switch" class="hidden peer"/>

        <label
          for="switch"
          class="relative w-8/12 max-w-52 py-4 bg-white rounded-[25px] after:py-1 after:absolute after:w-1/2 after:h-full after:rounded-full after:bg-blue after:top-0 after:left-0 after:transition-all after:duration-150 after:content-['Part-Time'] after:text-center after:font-bold peer-checked:after:left-1/2 peer-checked:after:content-['Full-Time'] after:flex after:justify-center after:items-center after:text-white"
        >
          <span
            class="select-none absolute top-0 inset-x-1/2 right-0 text-blue text-center font-bold py-1 flex justify-center items-center h-full"
            >Full-Time</span
          >

          <span
            class="select-none absolute top-0 inset-x-1/2 left-0 text-blue text-center font-bold py-1 flex justify-center items-center h-full"
            >Part-Time</span
          >
        </label>
      </div> -->
      <div class="flex-1 flex justify-end">
    <input
        [(ngModel)]="searchQuery"
        (ngModelChange)="filterName()"
      type="text"
      placeholder="SEARCH FACULTY"
      class="flex-1 rounded-full py-2 shadow-inner placeholder:text-center placeholder:font-bold border-2 border-black w-1/4 max-w-[400px] min-w-[200px]"
    />
  </div>
    </div>
  </div>
  <div class="flex justify-start">
    <button
      (click)="filterCollege(''); activeButton = 'all'"
      [ngClass]="{ 'bg-blue text-white rounded-tr-[1rem] rounded-tl-[1rem]': activeButton === 'all' }"
      class="flex-1  border-b-2 font-bold border-black py-1"
      >
      All
    </button>
    <button
    (click)="filterCollege('CCS'); activeButton = 'ccs'"
    [ngClass]="{ 'bg-blue text-white rounded-tr-[1rem] rounded-tl-[1rem]': activeButton === 'ccs' }"
    class="flex-1  border-b-2 font-bold border-black  py-1"
    >
      CCS
    </button>
    <button
      (click)="filterCollege('CEAS'); activeButton = 'ceas'"
    [ngClass]="{ 'bg-blue text-white rounded-tr-[1rem] rounded-tl-[1rem]': activeButton === 'ceas' }"
    class="flex-1  border-b-2 font-bold border-black py-1"
    >
    CEAS
    </button>
    <button
    (click)="filterCollege('CHTM'); activeButton = 'chtm'"
    [ngClass]="{ 'bg-blue text-white rounded-tr-[1rem] rounded-tl-[1rem]': activeButton === 'chtm' }"
    class="flex-1  border-b-2 font-bold border-black  py-1"
    >
      CHTM
    </button>
    <button
    (click)="filterCollege('CAHS'); activeButton = 'cahs'"
    [ngClass]="{ 'bg-blue text-white rounded-tr-[1rem] rounded-tl-[1rem]': activeButton === 'cahs' }"
    class="flex-1  border-b-2 font-bold border-black  py-1"
    >
    CAHS
  </button>
  <button
  (click)="filterCollege('CBA'); activeButton = 'cba'"
  [ngClass]="{ 'bg-blue text-white rounded-tr-[1rem] rounded-tl-[1rem]': activeButton === 'cba' }"
  class="flex-1  border-b-2 font-bold border-black  py-1"
  >
      CBA
    </button>
  </div>
  <div class="grid justify-items-start grid-cols-4 gap-5">
    <!-- <div class="col-span-4 grid-cols-subgrid grid border-b-2 border-gray">
      <p class="uppercase">Name</p>
      <p class="uppercase">College</p>
      <p class="uppercase">Position</p>
      <p class="uppercase">Employment</p>
    </div> -->

    <!-- DATA -->
    @for (faculty of filteredArray; track faculty.first_name) {
      <div
      class="col-span-4 grid-cols-subgrid grid items-center border-l-4 justify-items-start gap-5 hover:bg-gray-200 p-1"
    >
        <div class="flex items-center gap-3">
          <img
            [src]="faculty.profile_image"
            alt="ains"
            class="aspect-square rounded-full"
            onerror="this.onerror=null; this.src='../../../../assets/profiles/user.png'"
            width="50"
            height="50"
          />
          <div>
            <p>
              {{ faculty.first_name }} {{ faculty.middle_name }}
              {{ faculty.last_name }} {{ faculty.ext_name }}
            </p>
            <small class="leading-normal">{{ faculty.email }}</small>
          </div>
        </div>
      <p class="text-blue font-bold">{{ faculty.college }}</p>
      <p>{{ faculty.teaching_position }}</p>
      <div class="flex justify-between w-full">
        <p>
          {{ faculty.employment_status == 1 ? "Full-Time" : "Part-Time" }}
        </p>
        <button mat-button [matMenuTriggerFor]="menu"
        class=" hover:bg-none cursor-pointer w-[40px]">
          <i class="fa-solid fa-ellipsis-vertical"></i>
        </button>
        <mat-menu #menu="matMenu">
          <ng-template matMenuContent>
          <button mat-menu-item>Reset Password</button>
          <button mat-menu-item (click)="openForm(faculty)">Edit</button>
          <button mat-menu-item (click)="deleteForm(faculty.faculty_ID)">Delete</button>
          <!-- <button mat-menu-item (click)="deleteFaculty(faculty.id)">Delete</button> -->
          </ng-template>
        </mat-menu>
      </div>
    </div>
    } @empty {
      <div role="status" class="max-w-sm animate-pulse col-span-4 grid-cols-subgrid grid items-center border-l-4 justify-items-start gap-5 p-1">
        <div class="flex items-center gap-3 w-full">
          <div class="w-[50px] aspect-square bg-gray-200 rounded-full"></div>
          <div class=" w-full flex flex-col gap-2">
            <div class="h-3 bg-gray-200 rounded-full w-4/12"></div>
            <div class="h-3 bg-gray-200 rounded-full w-8/12"></div>
          </div>
        </div>
        <div class="h-4 bg-gray-200 rounded-full w-1/6 "></div>
        <div class="h-4 bg-gray-200 rounded-full w-2/6 "></div>
        <div class="h-4 bg-gray-200 rounded-full w-1/3"></div>
        <span class="sr-only">Loading...</span>
      </div>
      <div role="status" class="max-w-sm animate-pulse col-span-4 grid-cols-subgrid grid items-center border-l-4 justify-items-start gap-5 p-1">
        <div class="flex items-center gap-3 w-full">
          <div class="w-[50px] aspect-square bg-gray-200 rounded-full"></div>
          <div class=" w-full flex flex-col gap-2">
            <div class="h-3 bg-gray-200 rounded-full w-5/12"></div>
            <div class="h-3 bg-gray-200 rounded-full w-9/12"></div>
          </div>
        </div>
        <div class="h-4 bg-gray-200 rounded-full w-1/6 "></div>
        <div class="h-4 bg-gray-200 rounded-full w-3/6 "></div>
        <div class="h-4 bg-gray-200 rounded-full w-1/3"></div>
        <span class="sr-only">Loading...</span>
      </div>
      <div role="status" class="max-w-sm animate-pulse col-span-4 grid-cols-subgrid grid items-center border-l-4 justify-items-start gap-5 p-1">
        <div class="flex items-center gap-3 w-full">
          <div class="w-[50px] aspect-square bg-gray-200 rounded-full"></div>
          <div class=" w-full flex flex-col gap-2">
            <div class="h-3 bg-gray-200 rounded-full w-7/12"></div>
            <div class="h-3 bg-gray-200 rounded-full w-5/12"></div>
          </div>
        </div>
        <div class="h-4 bg-gray-200 rounded-full w-1/6 "></div>
        <div class="h-4 bg-gray-200 rounded-full w-2/5 "></div>
        <div class="h-4 bg-gray-200 rounded-full w-1/4"></div>
        <span class="sr-only">Loading...</span>
      </div>
    }
  </div>
</section>
