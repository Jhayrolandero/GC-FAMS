<div class="p-5 flex flex-col gap-3">
  <div
    class="bg-white shadow-main bg-opacity-70 w-full rounded-[15px] flex flex-col tablet:flex-row tablet:justify-between items-center px-5"
  >
    <h1
      class="text-blue font-Poppins font-semibold mobileS:text-[1rem] mobileM:text-[1.5rem] tablet:text-[2.5rem] py-2"
    >
      Research
    </h1>
    <div
      class="flex flex-row space-x-4 flex-1 w-full items-center justify-center tablet:justify-end"
    >
      <button
        class="m-0 bg-gradient-to-r from-blue to-greenBar text-white font-Poppins font-semibold w-[125px] h-[40px] rounded-full shadow-xl hover:scale-[102%] hover:duration-300 duration-300"
        (click)="openForm()"
      >
        +Add
      </button>
    </div>
  </div>

  <div
    class="bg-white shadow-main w-full rounded-[15px] flex flex-col p-5"
    *ngFor="let res of research$ | async; let i = index"
  >
    <p class="text-blue font-Poppins font-semibold text-[1.3rem]">
      {{ res.research_name }}
    </p>
    <hr class="border-[1.5px] border-slate-400" />
    <div class="flex flex-row">
      <div class="mr-2">
        <span class="font-Poppins font-medium text-[1rem]">Author/s:</span>
      </div>
      <div *ngFor="let author of authors$ | async; let x = index">
        <p
          class="italic font-Poppins font-medium text-[1rem] mr-2"
          *ngIf="author.research_ID == res.research_ID"
        >
          {{ author.research_author_name }}
        </p>
      </div>
    </div>
    @if(res.ongoing){
      <div class="flex flex-row items-center">
        <svg
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M19 19H5V8H19M16 1V3H8V1H6V3H5C3.89 3 3 3.89 3 5V19C3 19.5304 3.21071 20.0391 3.58579 20.4142C3.96086 20.7893 4.46957 21 5 21H19C19.5304 21 20.0391 20.7893 20.4142 20.4142C20.7893 20.0391 21 19.5304 21 19V5C21 4.46957 20.7893 3.96086 20.4142 3.58579C20.0391 3.21071 19.5304 3 19 3H18V1M17 12H12V17H17V12Z"
            fill="black"
          />
        </svg>
        <p class="font-Poppins font-semibold text-[1rem]">
          Ongoing
        </p>
      </div>
    }
    @else{
      <p class="font-Poppins font-semibold text-[1rem]">
        Published in: {{ res.publish_date }} |
        <a
          class="underline cursor-pointer text-blue_link"
          (click)="openLink(res.research_link)"
          >{{ res.research_link }}</a
        >
      </p>
    }
  </div>
</div>
