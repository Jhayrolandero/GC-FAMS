<div class="p-5 flex flex-col gap-y-3 text-blue">
    <div class="bg-white shadow-main w-full rounded-[15px] flex flex-col tablet:flex-row tablet:justify-between items-center px-5">
        <h1 class="font-Poppins font-semibold text-[2.5rem] py-2">
            Individual Analytics
        </h1>
    </div>

    <div class="w-full flex flex-row gap-3">
        <div class="bg-white w-[250px] overflow-hidden rounded-[15px] shadow-main" *ngIf="(facultyProfile$ | async) as profile">
            <div class="h-[150px] w-full overflow-hidden flex items-center">
                <img class="object-cover" [src]="port + profile.profile_image">
            </div>
            <p>{{ profile.first_name + " " + profile.last_name}}</p>
        </div>
        <div class="flex flex-1 flex-col bg-white rounded-[15px] shadow-main">
            <p class="text-center text-blue text-[1.2rem] font-Poppins font-semibold">Milestone Calendar</p>
            <app-faculty-milestone-calendar [type]="'faculty'"></app-faculty-milestone-calendar>
        </div>
    </div>

    <div class="w-full flex flex-row gap-3">
        <div class="bg-white shadow-main rounded-[15px] overflow-hidden flex flex-col flex-1 justify-center items-center py-3">
            <p  class="text-greenBar text-[5rem] font-Poppins font-bold leading-[90%]" [textContent]="evalAverage$ | async | number: '1.1-1'"></p>
            <p class="text-center text-blue text-[1.2rem] font-Poppins font-semibold">Average
                Faculty<br>Evaluation Score</p>
        </div>
        <div class="bg-white shadow-main rounded-[15px] overflow-hidden flex flex-col flex-1 justify-center items-center py-3">
            <p class="text-greenBar text-[5rem] font-Poppins font-bold leading-[90%]" [textContent]="units$ | async"></p>
            <p class="text-center text-blue text-[1.2rem] font-Poppins font-semibold">Units Undertaken</p>
        </div>
        <div class="bg-white shadow-main rounded-[15px] overflow-hidden flex flex-col flex-1 justify-center items-center py-3">
            <p class="text-greenBar text-[5rem] font-Poppins font-bold leading-[90%]" [textContent]="certCount$ | async"></p>
            <p class="text-center text-blue text-[1.2rem] font-Poppins font-semibold">Total Certificates</p>
        </div>
        <div class="bg-white shadow-main rounded-[15px] overflow-hidden flex flex-col flex-1 justify-center items-center py-3">
            <p class="text-greenBar text-[5rem] font-Poppins font-bold leading-[90%]">4.3</p>
            <p class="text-center text-blue text-[1.2rem] font-Poppins font-semibold">Seminars Completed</p>
        </div>
    </div>

    <div *ngIf="(milestonesAchieved$ | async) as milestone" class="w-full bg-white rounded-[15px] shadow-main p-5 pt-1">
        <p class="text-blue font-bold text-[2rem] my-2">Milestones Achieved Each Year</p>
        <app-bar-chart
        [data]="milestone"
        [axis]="'x'"
        [bgColor]="'rgb(7, 66, 135)'"
        [labels]="yearsArray"
        [showLegend]="false">
        >  
        </app-bar-chart>
    </div>

    <!-- <div *ngIf="(attainmentTimeline$ | async) as attainment" class="w-full bg-white rounded-[15px] shadow-main p-5 pt-1">
        <div class="flex flex-row items-center gap-3">
            <p class="text-blue font-bold text-[2rem] my-2">Attainment Timeline</p>
            <div class="flex flex-row gap-1">
                <div 
                class="w-[23px] h-[23px] rounded-[5px] shadow-main duration-300 hover:duration-300 hover:bg-opacity-50"
                [ngClass]="certToggle ? 'bg-greenBar' : 'bg-slate-200'"
                (click)="certToggle = !certToggle"></div>
                <p class="font-Roboto font-medium text-blue">Certifications</p>
            </div>

            <div class="flex flex-row gap-1">
                <div 
                class="w-[23px] h-[23px] rounded-[5px] shadow-main duration-300 hover:duration-300 hover:bg-opacity-50"
                [ngClass]="commexToggle ? 'bg-greenBar' : 'bg-slate-200'"
                (click)="commexToggle = !commexToggle"></div>
                <p class="font-Roboto font-medium text-blue">Community Extensions</p>
            </div>

            <div class="flex flex-row gap-1">
                <div 
                class="w-[23px] h-[23px] rounded-[5px] shadow-main duration-300 hover:duration-300 hover:bg-opacity-50"
                [ngClass]="seminarToggle ? 'bg-greenBar' : 'bg-slate-200'"
                (click)="seminarToggle = !seminarToggle"></div>
                <p class="font-Roboto font-medium text-blue">Seminars</p>
            </div>

        </div>
        <app-line-graph
        [data]="certToggle ? attainment[0] : []"
        [data2]="commexToggle ? attainment[1] : []"
        [data3]="seminarToggle ? attainment[2] : []"
        [labels]="yearsArray"
        [showLegend]="false">
        </app-line-graph>
    </div> -->

    <!-- <div *ngIf="(milestoneCount$ | async) as milestone" class="w-full bg-white rounded-[15px] shadow-main p-5 pt-1">
        <p class="text-blue font-bold text-[2rem] my-2">Milestones Achieved Each Year</p>
        <app-bar-chart
        [data]="milestone"
        [axis]="'x'"
        [bgColor]="'rgb(7, 66, 135)'"
        [labels]="yearsArray"
        [showLegend]="false">
        >  
        </app-bar-chart>
    </div>

    <div *ngIf="(attainmentTimeline$ | async) as attainment" class="w-full bg-white rounded-[15px] shadow-main p-5 pt-1">
        <div class="flex flex-row items-center gap-3">
            <p class="text-blue font-bold text-[2rem] my-2">Attainment Timeline</p>
            <div class="flex flex-row gap-1">
                <div 
                class="w-[23px] h-[23px] rounded-[5px] shadow-main duration-300 hover:duration-300 hover:bg-opacity-50"
                [ngClass]="certToggle ? 'bg-greenBar' : 'bg-slate-200'"
                (click)="certToggle = !certToggle"></div>
                <p class="font-Roboto font-medium text-blue">Certifications</p>
            </div>

            <div class="flex flex-row gap-1">
                <div 
                class="w-[23px] h-[23px] rounded-[5px] shadow-main duration-300 hover:duration-300 hover:bg-opacity-50"
                [ngClass]="commexToggle ? 'bg-greenBar' : 'bg-slate-200'"
                (click)="commexToggle = !commexToggle"></div>
                <p class="font-Roboto font-medium text-blue">Community Extensions</p>
            </div>

            <div class="flex flex-row gap-1">
                <div 
                class="w-[23px] h-[23px] rounded-[5px] shadow-main duration-300 hover:duration-300 hover:bg-opacity-50"
                [ngClass]="seminarToggle ? 'bg-greenBar' : 'bg-slate-200'"
                (click)="seminarToggle = !seminarToggle"></div>
                <p class="font-Roboto font-medium text-blue">Seminars</p>
            </div>

        </div>
        <app-line-graph
        [data]="certToggle ? attainment[0] : []"
        [data2]="commexToggle ? attainment[1] : []"
        [data3]="seminarToggle ? attainment[2] : []"
        [labels]="yearsArray"
        [showLegend]="false">
        </app-line-graph>
    </div> -->
</div>
